# 【ハンズオン】ECSベストプラクティスに沿ってSysdigでセキュアなコンテナ運用をしよう！

## 目的

### ハンズオンの目的

このハンズオンセッションの目的は、参加者がECSに関するベストプラクティスに沿った構築方法を習得することです。具体的には、以下の点を重視しています。

1. **クラウドインフラの自動化**:
   - 実際にInfrastructure as Code（IaC）を用いてクラウドインフラを構築する方法を学びます。これにより、手動設定のミスを減らし、再現性のある環境を短時間で構築できるようになります。

2. **インフラの継続的インテグレーションとデプロイメント（CI/CD）**:
   - GitHub Actionsを用いて、インフラおよびアプリケーションの自動ビルド、テスト、デプロイメントのパイプラインを設定します。これにより、コードの変更が迅速かつ安全に本番環境に反映されるプロセスを体験します。

3. **セキュリティの強化**:
   - ビルド時およびランタイムでのセキュリティスキャンを実施し、脆弱性の検出と修正を行います。具体的には、ECRのプッシュ時スキャン、Sysdigを用いたランタイムモニタリングを通じて、セキュリティリスクを迅速に特定し対処する方法を学びます。

4. **デプロイメントの戦略**:
   - アプリケーションのデプロイメントやロールバックの手順を学びます。これにより、新しいバージョンのアプリケーションを安全にリリースするスキルを習得します。

5. **オブザーバビリティの向上**:
   - モニタリングツールの設定と実践を通じて、システムの状態をリアルタイムで監視し、問題の早期検出と対応を行う方法を学びます。これにより、システムの可視性を高め、運用の効率化と信頼性の向上を図ります。


このハンズオンセッションを通じて、参加者がクラウドネイティブな環境でのインフラおよびアプリケーションのデプロイメントと運用に関する実践的なスキルを身につけることを目指しています。

## 前提知識

- コンテナの基礎的な知識(Dockerfileを書いたことがあり、dockerコマンドを使ったことがあればOKです)
- ECSの概要（ECSクラスター、ECSサービス、ECSタスクがそれぞれどのように関係してくるのかが分かればOKです）

## 本ハンズオンで実施すること

1. オープニングセッション
   - ハンズオンの目的と概要説明
   - 注意事項や質問の受け付け方法の説明
2. Amazon ECSのベストプラクティスについて
   - Amazon ECSのベストプラクティスについて
3. IaC(Terraform)を使ったAWS環境のデプロイ
   - Cloud9の初期セットアップ
   - 必要なツールやリポジトリのクローン
   - ECSの初回デプロイ
4. GitHub Actionsを使ったインフラのCI/CD
   - インフラCI/CDのためのワークフローの概要
   - インフラCI/CDの中で使用するツールの紹介
   - インフラCI処理の実施
   - 検出された脆弱性の修正
   - 修正後の再デプロイ
5. GitHub Actionsを使ったアプリケーションのデプロイ
   - ecspressoについて
   - アプリケーションのCI/CD処理の概要
   - アプリケーションCI処理の実施
   - 検出された脆弱性の修正
   - AWS環境へのデプロイ
6. Sysdigによるランタイムモニタリングの導入
   - Sysdig Secureシステム概要
   - Sysdig Secure導入
   - アプリケーションへの攻撃
   - 検知結果の確認
7. モニタリングツールの実践
   - トレース取得のための設定
   - トレースの確認
8. クロージングセッション
   - ハンズオンのまとめと振り返り
   - 質疑応答


[Next: Amazon ECSのベストプラクティスについて](../module1/module1.md)
